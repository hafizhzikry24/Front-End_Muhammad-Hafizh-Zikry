 <!-- This is a This is a display of calculateTax.js using basic HTML and CSS -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="stylesheet.css">
    <title>Tax Calculator</title>
 
</head>
<body>
    <div class="calculator-container">
        <h1>Tax Calculator</h1>
        <label for="income">Income:</label>
        <input type="number" id="income" name="income"><br><br>

        <label for="age">Age:</label>
        <input type="number" id="age" name="age"><br><br>

        <label for="dependents">Dependents:</label>
        <input type="number" id="dependents" name="dependents"><br><br>

        <button onclick="calculateAndDisplayTax()">Calculate Tax</button>

        <h2>Tax Amount:</h2>
        <p id="taxAmount"></p>
    </div>

    <script>
        function calculateTax(income, age, dependents, step = 1) {
            
            if (typeof income !== 'number' || income < 0) {
                return "Invalid income";
            }
            if (typeof age !== 'number' || age < 0) {
                return "Invalid age";
            }
            if (typeof dependents !== 'number' || dependents < 0) {
                return "Invalid dependents";
            }

            
            if (age < 18) {
                return "Not eligible for tax";
            }

            
            switch (step) {
                case 1: 
                    if (income <= 10000) {
                        return calculateTax(0.1 * income, age, dependents, step + 1);
                    } else if (income <= 50000) {
                        return calculateTax(0.2 * income, age, dependents, step + 1);
                    } else {
                        return calculateTax(0.3 * income, age, dependents, step + 1);
                    }
                case 2: 
                    let deduction = 500 * dependents;
                    return calculateTax(income - deduction, age, dependents, step + 1);
                case 3: 
                    if (age >= 65) {
                        return calculateTax(income * 0.8, age, dependents, step + 1);
                    }
                    return calculateTax(income, age, dependents, step + 1);
                case 4: 
                    if (income < 0) {
                        return 0;
                    }
                    return income;
                default:
                    return income;
            }
        }

        function calculateAndDisplayTax() {
            const income = parseFloat(document.getElementById('income').value);
            const age = parseFloat(document.getElementById('age').value);
            const dependents = parseFloat(document.getElementById('dependents').value);

            const tax = calculateTax(income, age, dependents);
            document.getElementById('taxAmount').innerText = tax;
        }
    </script>
</body>
</html>

